[mypy]
strict = True
namespace_packages = True
mypy_path = src          # only look inside ./src
# We will call mypy with “-p dgm_kernel”, so no packages= needed.

###############################################################################
# Third-party libs & external services – just ignore them for now
###############################################################################
[mypy-requests.*]           ignore_missing_imports = True
[mypy-github.*]             ignore_missing_imports = True
[mypy-lancedb.*]            ignore_missing_imports = True
[mypy-llm_sidecar.*]        ignore_missing_imports = True
[mypy-pydantic.*]           ignore_missing_imports = True
[mypy-pydantic_core.*]      ignore_missing_imports = True
[mypy-hypothesis.*]         ignore_missing_imports = True
[mypy-pytest.*]             ignore_missing_imports = True

###############################################################################
# Kernel sub-modules that are still being typed – allow errors temporarily
###############################################################################
[mypy-dgm_kernel.hitl_pr]            ignore_errors = True
[mypy-dgm_kernel.harvest_feedback]   ignore_errors = True
[mypy-dgm_kernel.llm_client]         ignore_errors = True
[mypy-dgm_kernel.crypto_sign]        ignore_errors = True
[mypy-dgm_kernel.trace_schema]       ignore_errors = True
[mypy-dgm_kernel.metrics]            disable_error_code = attr-defined

###############################################################################
# Final catch-all for anything else outside our tree
###############################################################################
[mypy-*]  ignore_missing_imports = True
